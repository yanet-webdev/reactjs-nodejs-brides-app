{"ast":null,"code":"import _toConsumableArray from\"/Users/yanet/newbrides/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/yanet/newbrides/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{detailsProduct}from\"../actions/productAction\";import EmptyStripe from\"./EmptyStripe\";import LoadingBox from\"./LoadingBox\";import MessageBox from\"./MessageBox\";import Rating from\"./Rating\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ProductScreen(props){var dispatch=useDispatch();var productId=props.match.params.id;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(detailsProduct(productId));},[dispatch,productId]);var addToCartHandler=function addToCartHandler(){props.history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EmptyStripe,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"category\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"primary back-to\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-left\",\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"max-width\",children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"error\",children:error}):/*#__PURE__*/_jsxs(\"div\",{className:\"product-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-item\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-item\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"details-product\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"prod-name\",children:product.name}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Rating,{rating:product.rating,numReviews:product.numReviews})}),/*#__PURE__*/_jsxs(\"li\",{className:\"prod-price\",children:[\" Price: \\u20AA \",product.price]}),/*#__PURE__*/_jsxs(\"li\",{className:\"sale-price\",children:[\"Sale Price : \\u20AA \",product.salePrice]}),/*#__PURE__*/_jsx(\"li\",{className:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"li\",{className:\"description-text\",children:product.description}),/*#__PURE__*/_jsxs(\"li\",{className:\"final-price\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-price\",children:[\" \",\"Final Price: \\u20AA \",product.salePrice]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status\",children:[\"Status:\",product.countInStock>0?/*#__PURE__*/_jsx(\"span\",{className:\"success\",children:\" In Stock\"}):/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:\" Unavailable\"})]}),product.countInStock>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Quantity: \"}),/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:addToCartHandler,className:\"primary block\",children:\"Add to Cart\"})})]})]})]})})]})})]})]});}","map":{"version":3,"sources":["/Users/yanet/newbrides/frontend/src/components/ProductScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","detailsProduct","EmptyStripe","LoadingBox","MessageBox","Rating","ProductScreen","props","dispatch","productId","match","params","id","qty","setQty","productDetails","state","loading","error","product","addToCartHandler","history","push","image","name","rating","numReviews","price","salePrice","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"oTAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,6IAEA,cAAe,SAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,CAC3C,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,CAAAA,SAAS,CAAGF,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAmBC,EAArC,CACA,cAAsBf,QAAQ,CAAC,CAAD,CAA9B,wCAAOgB,GAAP,eAAYC,MAAZ,eACA,GAAMC,CAAAA,cAAc,CAAGhB,WAAW,CAAC,SAACiB,KAAD,QAAWA,CAAAA,KAAK,CAACD,cAAjB,EAAD,CAAlC,CACA,GAAQE,CAAAA,OAAR,CAAoCF,cAApC,CAAQE,OAAR,CAAiBC,KAAjB,CAAoCH,cAApC,CAAiBG,KAAjB,CAAwBC,OAAxB,CAAoCJ,cAApC,CAAwBI,OAAxB,CAEAvB,SAAS,CAAC,UAAM,CACdY,QAAQ,CAACP,cAAc,CAACQ,SAAD,CAAf,CAAR,CACD,CAFQ,CAEN,CAACD,QAAD,CAAWC,SAAX,CAFM,CAAT,CAIA,GAAMW,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7Bb,KAAK,CAACc,OAAN,CAAcC,IAAd,iBAA4Bb,SAA5B,iBAA6CI,GAA7C,GACD,CAFD,CAGA,mBACE,oCACE,KAAC,WAAD,IADF,cAGE,aAAK,SAAS,CAAC,UAAf,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,iBAAvB,uBACE,UAAG,SAAS,CAAC,kBAAb,CAAgC,cAAY,MAA5C,EADF,EADF,cAIE,aAJF,cAKE,aALF,cAME,aANF,cAOE,YAAK,SAAS,CAAC,WAAf,UACGI,OAAO,cACN,KAAC,UAAD,IADM,CAEJC,KAAK,cACP,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,UAA6BA,KAA7B,EADO,cAGP,aAAK,SAAS,CAAC,iBAAf,wBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,GAAG,CAAEC,OAAO,CAACI,KAAlB,CAAyB,GAAG,CAAEJ,OAAO,CAACK,IAAtC,EADF,EADF,cAIE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAI,SAAS,CAAC,iBAAd,wBACE,WAAI,SAAS,CAAC,WAAd,UAA2BL,OAAO,CAACK,IAAnC,EADF,cAEE,iCACE,KAAC,MAAD,EACE,MAAM,CAAEL,OAAO,CAACM,MADlB,CAEE,UAAU,CAAEN,OAAO,CAACO,UAFtB,EADF,EAFF,cAQE,YAAI,SAAS,CAAC,YAAd,6BAAsCP,OAAO,CAACQ,KAA9C,GARF,cASE,YAAI,SAAS,CAAC,YAAd,kCACkBR,OAAO,CAACS,SAD1B,GATF,cAaE,WAAI,SAAS,CAAC,aAAd,yBAbF,cAcE,WAAI,SAAS,CAAC,kBAAd,UAAkCT,OAAO,CAACU,WAA1C,EAdF,cAgBE,YAAI,SAAS,CAAC,aAAd,wBACE,aAAK,SAAS,CAAC,aAAf,WACG,GADH,wBAEkBV,OAAO,CAACS,SAF1B,GADF,cAKE,aAAK,SAAS,CAAC,QAAf,qBAEGT,OAAO,CAACW,YAAR,CAAuB,CAAvB,cACC,aAAM,SAAS,CAAC,SAAhB,uBADD,cAGC,aAAM,SAAS,CAAC,OAAhB,0BALJ,GALF,CAaGX,OAAO,CAACW,YAAR,CAAuB,CAAvB,eACC,wCACE,iCACE,oCACE,oCADF,cAEE,eACE,KAAK,CAAEjB,GADT,CAEE,QAAQ,CAAE,kBAACkB,CAAD,QAAOjB,CAAAA,MAAM,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAFZ,UAIG,mBAAIC,KAAK,CAACf,OAAO,CAACW,YAAT,CAAL,CAA4BK,IAA5B,EAAJ,EAAwCC,GAAxC,CACC,SAACC,CAAD,qBACE,eAAoB,KAAK,CAAEA,CAAC,CAAG,CAA/B,UACGA,CAAC,CAAG,CADP,EAAaA,CAAC,CAAG,CAAjB,CADF,EADD,CAJH,EAFF,GADF,EADF,cAkBE,iCACE,eACE,OAAO,CAAEjB,gBADX,CAEE,SAAS,CAAC,eAFZ,yBADF,EAlBF,GAdJ,GAhBF,GADF,EAJF,GANJ,EAPF,GAHF,GADF,CAyFD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { detailsProduct } from \"../actions/productAction\";\nimport EmptyStripe from \"./EmptyStripe\";\nimport LoadingBox from \"./LoadingBox\";\nimport MessageBox from \"./MessageBox\";\nimport Rating from \"./Rating\";\n\nexport default function ProductScreen(props) {\n  const dispatch = useDispatch();\n  const productId = props.match.params.id;\n  const [qty, setQty] = useState(1);\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    dispatch(detailsProduct(productId));\n  }, [dispatch, productId]);\n\n  const addToCartHandler = () => {\n    props.history.push(`/cart/${productId}?qty=${qty}`);\n  };\n  return (\n    <div>\n      <EmptyStripe />\n\n      <div className=\"category\">\n        <Link to=\"/\" className=\"primary back-to\">\n          <i className=\"fa fa-arrow-left\" aria-hidden=\"true\"></i>\n        </Link>\n        <br />\n        <br />\n        <br />\n        <div className=\"max-width\">\n          {loading ? (\n            <LoadingBox></LoadingBox>\n          ) : error ? (\n            <MessageBox variant=\"error\">{error}</MessageBox>\n          ) : (\n            <div className=\"product-content\">\n              <div className=\"card-item\">\n                <img src={product.image} alt={product.name} />\n              </div>\n              <div className=\"card-item\">\n                <ul className=\"details-product\">\n                  <li className=\"prod-name\">{product.name}</li>\n                  <li>\n                    <Rating\n                      rating={product.rating}\n                      numReviews={product.numReviews}\n                    ></Rating>\n                  </li>\n                  <li className=\"prod-price\"> Price: ₪ {product.price}</li>\n                  <li className=\"sale-price\">\n                    Sale Price : ₪ {product.salePrice}\n                  </li>\n\n                  <li className=\"description\">Description</li>\n                  <li className=\"description-text\">{product.description}</li>\n\n                  <li className=\"final-price\">\n                    <div className=\"title-price\">\n                      {\" \"}\n                      Final Price: ₪ {product.salePrice}\n                    </div>\n                    <div className=\"status\">\n                      Status:\n                      {product.countInStock > 0 ? (\n                        <span className=\"success\"> In Stock</span>\n                      ) : (\n                        <span className=\"error\"> Unavailable</span>\n                      )}\n                    </div>\n                    {product.countInStock > 0 && (\n                      <>\n                        <li>\n                          <div>\n                            <span>Quantity: </span>\n                            <select\n                              value={qty}\n                              onChange={(e) => setQty(e.target.value)}\n                            >\n                              {[...Array(product.countInStock).keys()].map(\n                                (x) => (\n                                  <option key={x + 1} value={x + 1}>\n                                    {x + 1}\n                                  </option>\n                                )\n                              )}\n                            </select>\n                          </div>\n                        </li>\n                        <li>\n                          <button\n                            onClick={addToCartHandler}\n                            className=\"primary block\"\n                          >\n                            Add to Cart\n                          </button>\n                        </li>\n                      </>\n                    )}\n                  </li>\n                </ul>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}